<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Analyze Bacterial Pangenomes in R • pagoo</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="bootstrap-toc.css">
<script src="bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="Analyze Bacterial Pangenomes in R">
<meta property="og:description" content="pagoo is an encapsulated, object-oriented class system for 
  analyzing bacterial pangenomes. It uses the R6 package as backend. It was 
  designed in order to facilitate and speed-up the comparative analysis of 
  multiple bacterial genomes, standardizing and optimizing routine tasks 
  performed everyday. There are a handful of things done everyday when working 
  with bacterial pangenomes: subset, summarize, extract, visualize and store 
  data. So, pagoo is intended to facilitate these tasks as much as possible.">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">pagoo</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.3.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="articles/1-Quick_Start.html">1 - Quick Start</a>
    </li>
    <li>
      <a href="articles/2-Input.html">2 - Input</a>
    </li>
    <li>
      <a href="articles/3-Querying_Data.html">3 - Querying Data</a>
    </li>
    <li>
      <a href="articles/4-Subseting.html">4 - Subseting</a>
    </li>
    <li>
      <a href="articles/5-Methods_Plots.html">5 - Methods and Plots</a>
    </li>
    <li>
      <a href="articles/6-Recipes.html">6 - Recipes</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="contents col-md-9">
<div id="pagoo-an-encapsulated-oo-class-system-for-analyzing-bacterial-pangenomes-in-r" class="section level1">
<div class="page-header"><h1 class="hasAnchor">
<a href="#pagoo-an-encapsulated-oo-class-system-for-analyzing-bacterial-pangenomes-in-r" class="anchor"></a>Pagoo: An encapsulated OO class system for analyzing bacterial pangenomes in R</h1></div>
<p><em>“One object to store them all, one object to find them, one object to query from and with ggplot2 visualize them.” (Lord Sauron)</em></p>
<div id="introduction" class="section level2">
<h2 class="hasAnchor">
<a href="#introduction" class="anchor"></a>Introduction</h2>
<p><code>pagoo</code> is an encapsulated, object-oriented class system for analyzing bacterial pangenomes. It uses the <a href="https://r6.r-lib.org/">R6</a> package as backend. It was designed in order to facilitate and speed-up the comparative analysis of multiple bacterial genomes, standardizing and optimizing routine tasks performed everyday. There are a handful of things done everyday when working with bacterial pangenomes: subset, summarize, extract, visualize and store data. So, <code>pagoo</code> is intended to facilitate these tasks as much as possible.</p>
<div id="philosophy" class="section level3">
<h3 class="hasAnchor">
<a href="#philosophy" class="anchor"></a>Philosophy</h3>
<p>The main idea behind pagoo is that, once you have reconstructed a pangenome, all the information and basic methods are embebed into a single object. To query this object, you simply use the <code><a href="https://rdrr.io/r/base/Extract.html">$</a></code> symbol as if where a named <code>list</code> in R.</p>
<p><img src="reference/figures/readmegif.gif"></p>
<p>This idea is common in other object-oriented programming languages, but not in R for final users. We have exploited R6 package to take advantage of this kind of programming and make it available to the R pangenomics community.</p>
<p><code>pagoo</code> is composed by three <code>R6</code> classes, each one more complex than the other, and that the more basic are inherited by the more complex ones. The most basic one, <code>PgR6</code>, contains basic subset methods and data manipulation functions. The second one, <code>PgR6M</code> inherits all the methods and fields from the previous one, and incorporates statistical and visualization methods. The last one, <code>PgR6MS</code>, inherits from <code>PgR6M</code> all its capabilities, and adds methods to manipulate DNA sequences.</p>
<p>A quick look to a <code>pagoo</code> object print can give us some clues of how is it composed:</p>
<div class="sourceCode" id="cb1"><pre class="r">&lt;PgR6MS&gt;
  Inherits from: &lt;PgR6M&gt;
  Public:
    add_metadata: function (map = "org", data) 
    binomix_estimate: function (K.range = 3:5, core.detect.prob = 1, verbose = TRUE) 
    cg_exp_decay_fit: function (raref, pcounts = 10, ...) 
    clone: function (deep = FALSE) 
    cloud_clusters: active binding
    cloud_genes: active binding
    cloud_sequences: active binding
    clusters: active binding
    core_clusters: active binding
    core_genes: active binding
    core_level: active binding
    core_seqs_4_phylo: function (max_per_org = 1, fill = TRUE) 
    core_sequences: active binding
    dist: function (method = "bray", binary = FALSE, diag = FALSE, upper = FALSE, 
    drop: function (x) 
    dropped: active binding
    fluidity: function (n.sim = 10) 
    genes: active binding
    gg_barplot: function () 
    gg_binmap: function () 
    gg_curves: function (what = c("pangenome", "coregenome"), ...) 
    gg_dist: function (method = "bray", ...) 
    gg_pca: function (colour = NULL, ...) 
    gg_pie: function () 
    initialize: function (data, org_meta, cluster_meta, core_level = 95, sep = "__", 
    organisms: active binding
    pan_matrix: active binding
    pan_pca: function (center = TRUE, scale. = FALSE, ...) 
    pg_power_law_fit: function (raref, ...) 
    random_seed: active binding
    rarefact: function (what = "pangenome", n.perm = 10) 
    recover: function (x) 
    runShinyApp: function () 
    save_pangenomeRDS: function (file = "pangenome.rds", seqs.if.avail = TRUE) 
    sequences: active binding
    shell_clusters: active binding
    shell_genes: active binding
    shell_sequences: active binding
    summary_stats: active binding
    write_pangenome: function (dir = "pangenome", force = FALSE) 
  Private:
    .clusters: DataFrame
    .data: DataFrame
    .dropped: NULL
    .level: 95
    .organisms: DataFrame
    .panmatrix: 1 1 1 1 1 1 1 1 1 0 1 0 1 1 0 1 1 1 1 1 1 1 1 1 1 1 1 1  ...
    .sep: __
    .sequences: DNAStringSet
    version: package_version, numeric_version</pre></div>
<p>You can see that basically there are public and private fields/methods. In private, all raw data is stored. You will not have easy access to it. Instead, you will be able to access public functions and active bindings. Active bindings are functions that behave as it were variables, in this case they are querying private information and returning it to the user in a convinient way. Public methods</p>
</div>
<div id="pangenome-reconstruction" class="section level3">
<h3 class="hasAnchor">
<a href="#pangenome-reconstruction" class="anchor"></a>Pangenome reconstruction</h3>
<p>Pagoo works over the pangenome <strong>after it has been built</strong> with any pangenome reconstruction software. So, you can do it with the software of your preference. Despite we recommend <code>Pewit</code>, our own pangenome reconstruction software, <code>pagoo</code> can read-in the output of most popular and state-of-the-art pangenome softwares like <code>Roary</code>, <code>Panaroo</code>, <code>panX</code> and <code>PIRATE</code>. <code>pagoo</code> also runs a <code>Shiny</code> application that provides reactive interaction with the data and facillitates handling and visualization.</p>
</div>
<div id="installation" class="section level3">
<h3 class="hasAnchor">
<a href="#installation" class="anchor"></a>Installation</h3>
<p>Currently, <code>pagoo</code> is only available at GitHub. The easiest way to install this package is by using <code>devtools</code>:</p>
<div class="sourceCode" id="cb2"><pre class="r"><span class="kw">if</span> (!<span class="fu"><a href="https://rdrr.io/r/base/library.html">require</a></span>(<span class="st">"devtools"</span>)) <span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html">install.packages</a></span>(<span class="st">"devtools"</span>)
<span class="kw pkg">devtools</span><span class="kw ns">::</span><span class="fu">install_github</span>(<span class="st">'iferres/pagoo'</span>)</pre></div>
<p>We have tested <code>pagoo</code> in UNIX operating systems. However it should, we cannot warrant it fully works on Windows. Also, in the future we plan to put the code in CRAN and/or Bioconductor repositries.</p>
</div>
<div id="help" class="section level3">
<h3 class="hasAnchor">
<a href="#help" class="anchor"></a>Help</h3>
<p>All three classes are documented. You can access R help pages as with any other function:</p>
<div class="sourceCode" id="cb3"><pre class="r"><span class="fu"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="no">pagoo</span>)
?<span class="no">PgR6</span>
<span class="fu"><a href="https://rdrr.io/r/utils/help.html">help</a></span>(<span class="st">'PgR6MS'</span>)</pre></div>
<p>but as R6 classes documentation is still not standarized, we recomend you to use the <code><a href="reference/pagoo.html">pagoo::pagoo()</a></code> function to read the documentation from, and to to use it also instead of the raw classes.</p>
<div class="sourceCode" id="cb4"><pre class="r">?<span class="no">pagoo</span></pre></div>
</div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <div class="license">
<h2>License</h2>
<ul class="list-unstyled">
<li>
<a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a> | file <a href="LICENSE-text.html">LICENSE</a>
</li>
</ul>
</div>
<div class="developers">
<h2>Developers</h2>
<ul class="list-unstyled">
<li>Ignacio Ferres <br><small class="roles"> Author, maintainer </small>  </li>
</ul>
</div>

  </div>
</div>


      <footer><div class="copyright">
  <p>Developed by Ignacio Ferres.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.5.1.9000.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
