<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>What the Package Does (One Line, Title Case) • pagoo</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/all.min.css" integrity="sha256-nAmazAk6vS34Xqo0BSrTb+abbtFlgsFK7NKSi6o7Y78=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/v4-shims.min.css" integrity="sha256-6qHlizsOWFskGlwVOKuns+D1nB6ssZrHQrNj1wGplHc=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="What the Package Does (One Line, Title Case)">
<meta property="og:description" content="What the package does (one paragraph).">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">pagoo</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.2.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="articles/1-Quick_Start.html">1 - Quick Start</a>
    </li>
    <li>
      <a href="articles/2-Input.html">2 - Input</a>
    </li>
    <li>
      <a href="articles/3-Querying_Data.html">3 - Querying Data</a>
    </li>
    <li>
      <a href="articles/4-Subseting.html">4 - Subseting</a>
    </li>
    <li>
      <a href="articles/5-Methods_Plots.html">5 - Methods and Plots</a>
    </li>
    <li>
      <a href="articles/6-Recipes.html">6 - Recipes</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="contents col-md-9">
<div id="pagoo-an-encapsulated-oo-class-system-for-analyzing-bacterial-pangenomes" class="section level1">
<div class="page-header"><h1 class="hasAnchor">
<a href="#pagoo-an-encapsulated-oo-class-system-for-analyzing-bacterial-pangenomes" class="anchor"></a>Pagoo: An encapsulated OO class system for analyzing bacterial pangenomes</h1></div>
<p><em>“One object to store them all, one object to find them, one object to query from and with ggplot2 visualize them.” (Lord Sauron)</em></p>
<div id="introduction" class="section level2">
<h2 class="hasAnchor">
<a href="#introduction" class="anchor"></a>Introduction</h2>
<p><code>pagoo</code> is an encapsulated, object-oriented class system for analyzing bacterial pangenomes. It uses the <a href="https://r6.r-lib.org/">R6</a> package as backend. It was designed in order to facilitate and speed-up the comparative analysis of multiple bacterial genomes, standardizing and optimizing routine tasks performed everyday. There are a handful of things done everyday when working with bacterial pangenomes: subset, summarize, extract, visualize and store data. So, <code>pagoo</code> is intended to facilitate these tasks as much as possible.</p>
<div id="philosophy" class="section level3">
<h3 class="hasAnchor">
<a href="#philosophy" class="anchor"></a>Philosophy</h3>
<p>The main idea behind pagoo is that, once you have reconstructed a pangenome, all the information and basic methods are embebed into a single object. To query this object, you simply use the <code><a href="https://rdrr.io/r/base/Extract.html">$</a></code> symbol as if where a named <code>list</code> in R.</p>
<p><img src="reference/figures/readmegif.gif"></p>
<p>This idea is common in other object-oriented programming languages, but not in R for final users. We have exploited R6 package to take advantage of this kind of programming and make it available to the R pangenomics community.</p>
<p><code>pagoo</code> is composed by three <code>R6</code> classes, each one more complex than the other, and that the more basic are inherited by the more complex ones. The most basic one, <code>PgR6</code>, contains basic subset methods and data manipulation functions. The second one, <code>PgR6M</code> inherits all the methods and fields from the previous one, and incorporates statistical and visualization methods. The last one, <code>PgR6MS</code>, inherits from <code>PgR6M</code> all its capabilities, and adds methods to manipulate DNA sequences.</p>
<p>A quick look to a <code>pagoo</code> object print can give us some clues of how is it composed:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" data-line-number="1"><span class="op">&lt;</span>PgR6MS<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb1-2" data-line-number="2"><span class="st">  </span>Inherits from<span class="op">:</span><span class="st"> </span><span class="er">&lt;</span>PgR6M<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb1-3" data-line-number="3"><span class="st">  </span>Public<span class="op">:</span></a>
<a class="sourceLine" id="cb1-4" data-line-number="4"><span class="st">    </span>add_metadata<span class="op">:</span><span class="st"> </span><span class="cf">function</span> (<span class="dt">map =</span> <span class="st">"org"</span>, data) </a>
<a class="sourceLine" id="cb1-5" data-line-number="5">    binomix_estimate<span class="op">:</span><span class="st"> </span><span class="cf">function</span> (<span class="dt">K.range =</span> <span class="dv">3</span><span class="op">:</span><span class="dv">5</span>, <span class="dt">core.detect.prob =</span> <span class="dv">1</span>, <span class="dt">verbose =</span> <span class="ot">TRUE</span>) </a>
<a class="sourceLine" id="cb1-6" data-line-number="6">    cg_exp_decay_fit<span class="op">:</span><span class="st"> </span><span class="cf">function</span> (raref, <span class="dt">pcounts =</span> <span class="dv">10</span>, ...) </a>
<a class="sourceLine" id="cb1-7" data-line-number="7">    clone<span class="op">:</span><span class="st"> </span><span class="cf">function</span> (<span class="dt">deep =</span> <span class="ot">FALSE</span>) </a>
<a class="sourceLine" id="cb1-8" data-line-number="8">    cloud_clusters<span class="op">:</span><span class="st"> </span>active binding</a>
<a class="sourceLine" id="cb1-9" data-line-number="9">    cloud_genes<span class="op">:</span><span class="st"> </span>active binding</a>
<a class="sourceLine" id="cb1-10" data-line-number="10">    cloud_sequences<span class="op">:</span><span class="st"> </span>active binding</a>
<a class="sourceLine" id="cb1-11" data-line-number="11">    clusters<span class="op">:</span><span class="st"> </span>active binding</a>
<a class="sourceLine" id="cb1-12" data-line-number="12">    core_clusters<span class="op">:</span><span class="st"> </span>active binding</a>
<a class="sourceLine" id="cb1-13" data-line-number="13">    core_genes<span class="op">:</span><span class="st"> </span>active binding</a>
<a class="sourceLine" id="cb1-14" data-line-number="14">    core_level<span class="op">:</span><span class="st"> </span>active binding</a>
<a class="sourceLine" id="cb1-15" data-line-number="15">    core_seqs_<span class="dv">4</span>_phylo<span class="op">:</span><span class="st"> </span><span class="cf">function</span> (<span class="dt">max_per_org =</span> <span class="dv">1</span>, <span class="dt">fill =</span> <span class="ot">TRUE</span>) </a>
<a class="sourceLine" id="cb1-16" data-line-number="16">    core_sequences<span class="op">:</span><span class="st"> </span>active binding</a>
<a class="sourceLine" id="cb1-17" data-line-number="17">    dist<span class="op">:</span><span class="st"> </span><span class="cf">function</span> (<span class="dt">method =</span> <span class="st">"bray"</span>, <span class="dt">binary =</span> <span class="ot">FALSE</span>, <span class="dt">diag =</span> <span class="ot">FALSE</span>, <span class="dt">upper =</span> <span class="ot">FALSE</span>, </a>
<a class="sourceLine" id="cb1-18" data-line-number="18">    drop<span class="op">:</span><span class="st"> </span><span class="cf">function</span> (x) </a>
<a class="sourceLine" id="cb1-19" data-line-number="19">    dropped<span class="op">:</span><span class="st"> </span>active binding</a>
<a class="sourceLine" id="cb1-20" data-line-number="20">    fluidity<span class="op">:</span><span class="st"> </span><span class="cf">function</span> (<span class="dt">n.sim =</span> <span class="dv">10</span>) </a>
<a class="sourceLine" id="cb1-21" data-line-number="21">    genes<span class="op">:</span><span class="st"> </span>active binding</a>
<a class="sourceLine" id="cb1-22" data-line-number="22">    gg_barplot<span class="op">:</span><span class="st"> </span><span class="cf">function</span> () </a>
<a class="sourceLine" id="cb1-23" data-line-number="23">    gg_binmap<span class="op">:</span><span class="st"> </span><span class="cf">function</span> () </a>
<a class="sourceLine" id="cb1-24" data-line-number="24">    gg_curves<span class="op">:</span><span class="st"> </span><span class="cf">function</span> (<span class="dt">what =</span> <span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"pangenome"</span>, <span class="st">"coregenome"</span>), ...) </a>
<a class="sourceLine" id="cb1-25" data-line-number="25">    gg_dist<span class="op">:</span><span class="st"> </span><span class="cf">function</span> (<span class="dt">method =</span> <span class="st">"bray"</span>, ...) </a>
<a class="sourceLine" id="cb1-26" data-line-number="26">    gg_pca<span class="op">:</span><span class="st"> </span><span class="cf">function</span> (<span class="dt">colour =</span> <span class="ot">NULL</span>, ...) </a>
<a class="sourceLine" id="cb1-27" data-line-number="27">    gg_pie<span class="op">:</span><span class="st"> </span><span class="cf">function</span> () </a>
<a class="sourceLine" id="cb1-28" data-line-number="28">    initialize<span class="op">:</span><span class="st"> </span><span class="cf">function</span> (data, org_meta, cluster_meta, <span class="dt">core_level =</span> <span class="dv">95</span>, <span class="dt">sep =</span> <span class="st">"__"</span>, </a>
<a class="sourceLine" id="cb1-29" data-line-number="29">    organisms<span class="op">:</span><span class="st"> </span>active binding</a>
<a class="sourceLine" id="cb1-30" data-line-number="30">    pan_matrix<span class="op">:</span><span class="st"> </span>active binding</a>
<a class="sourceLine" id="cb1-31" data-line-number="31">    pan_pca<span class="op">:</span><span class="st"> </span><span class="cf">function</span> (<span class="dt">center =</span> <span class="ot">TRUE</span>, <span class="dt">scale. =</span> <span class="ot">FALSE</span>, ...) </a>
<a class="sourceLine" id="cb1-32" data-line-number="32">    pg_power_law_fit<span class="op">:</span><span class="st"> </span><span class="cf">function</span> (raref, ...) </a>
<a class="sourceLine" id="cb1-33" data-line-number="33">    random_seed<span class="op">:</span><span class="st"> </span>active binding</a>
<a class="sourceLine" id="cb1-34" data-line-number="34">    rarefact<span class="op">:</span><span class="st"> </span><span class="cf">function</span> (<span class="dt">what =</span> <span class="st">"pangenome"</span>, <span class="dt">n.perm =</span> <span class="dv">10</span>) </a>
<a class="sourceLine" id="cb1-35" data-line-number="35">    recover<span class="op">:</span><span class="st"> </span><span class="cf">function</span> (x) </a>
<a class="sourceLine" id="cb1-36" data-line-number="36">    runShinyApp<span class="op">:</span><span class="st"> </span><span class="cf">function</span> () </a>
<a class="sourceLine" id="cb1-37" data-line-number="37">    save_pangenomeRDS<span class="op">:</span><span class="st"> </span><span class="cf">function</span> (<span class="dt">file =</span> <span class="st">"pangenome.rds"</span>, <span class="dt">seqs.if.avail =</span> <span class="ot">TRUE</span>) </a>
<a class="sourceLine" id="cb1-38" data-line-number="38">    sequences<span class="op">:</span><span class="st"> </span>active binding</a>
<a class="sourceLine" id="cb1-39" data-line-number="39">    shell_clusters<span class="op">:</span><span class="st"> </span>active binding</a>
<a class="sourceLine" id="cb1-40" data-line-number="40">    shell_genes<span class="op">:</span><span class="st"> </span>active binding</a>
<a class="sourceLine" id="cb1-41" data-line-number="41">    shell_sequences<span class="op">:</span><span class="st"> </span>active binding</a>
<a class="sourceLine" id="cb1-42" data-line-number="42">    summary_stats<span class="op">:</span><span class="st"> </span>active binding</a>
<a class="sourceLine" id="cb1-43" data-line-number="43">    write_pangenome<span class="op">:</span><span class="st"> </span><span class="cf">function</span> (<span class="dt">dir =</span> <span class="st">"pangenome"</span>, <span class="dt">force =</span> <span class="ot">FALSE</span>) </a>
<a class="sourceLine" id="cb1-44" data-line-number="44">  Private<span class="op">:</span></a>
<a class="sourceLine" id="cb1-45" data-line-number="45"><span class="st">    </span>.clusters<span class="op">:</span><span class="st"> </span>DataFrame</a>
<a class="sourceLine" id="cb1-46" data-line-number="46">    .data<span class="op">:</span><span class="st"> </span>DataFrame</a>
<a class="sourceLine" id="cb1-47" data-line-number="47">    .dropped<span class="op">:</span><span class="st"> </span><span class="ot">NULL</span></a>
<a class="sourceLine" id="cb1-48" data-line-number="48">    .level<span class="op">:</span><span class="st"> </span><span class="dv">95</span></a>
<a class="sourceLine" id="cb1-49" data-line-number="49">    .organisms<span class="op">:</span><span class="st"> </span>DataFrame</a>
<a class="sourceLine" id="cb1-50" data-line-number="50">    .panmatrix<span class="op">:</span><span class="st"> </span><span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">0</span> <span class="dv">1</span> <span class="dv">0</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">0</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">1</span>  ...</a>
<a class="sourceLine" id="cb1-51" data-line-number="51">    .sep<span class="op">:</span><span class="st"> </span>__</a>
<a class="sourceLine" id="cb1-52" data-line-number="52">    .sequences<span class="op">:</span><span class="st"> </span>DNAStringSet</a>
<a class="sourceLine" id="cb1-53" data-line-number="53">    version<span class="op">:</span><span class="st"> </span>package_version, numeric_version</a></code></pre></div>
<p>You can see that basically there are public and private fields/methods. In private, all raw data is stored. You will not have easy access to it. Instead, you will be able to access public functions and active bindings. Active bindings are functions that behave as it were variables, in this case they are querying private information and returning it to the user in a convinient way. Public methods</p>
</div>
<div id="pangenome-reconstruction" class="section level3">
<h3 class="hasAnchor">
<a href="#pangenome-reconstruction" class="anchor"></a>Pangenome reconstruction</h3>
<p>Pagoo works over the pangenome <strong>after it has been built</strong> with any pangenome reconstruction software. So, you can do it with the software of your preference. Despite we recommend <code>Pewit</code>, our own pangenome reconstruction software, <code>pagoo</code> can read-in the output of most popular and state-of-the-art pangenome softwares like <code>Roary</code>, <code>Panaroo</code>, <code>panX</code> and <code>PIRATE</code>. <code>pagoo</code> also runs a <code>Shiny</code> application that provides reactive interaction with the data and facillitates handling and visualization.</p>
</div>
<div id="installation" class="section level3">
<h3 class="hasAnchor">
<a href="#installation" class="anchor"></a>Installation</h3>
<p>Currently, <code>pagoo</code> is only available at GitHub. The easiest way to install this package is by using <code>devtools</code>:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" data-line-number="1"><span class="cf">if</span> (<span class="op">!</span><span class="kw"><a href="https://rdrr.io/r/base/library.html">require</a></span>(<span class="st">"devtools"</span>)) <span class="kw"><a href="https://rdrr.io/r/utils/install.packages.html">install.packages</a></span>(<span class="st">"devtools"</span>)</a>
<a class="sourceLine" id="cb2-2" data-line-number="2">devtools<span class="op">::</span><span class="kw"><a href="https://devtools.r-lib.org//reference/remote-reexports.html">install_github</a></span>(<span class="st">'iferres/pagoo'</span>)</a></code></pre></div>
<p>We have tested <code>pagoo</code> in UNIX operating systems. However it should, we cannot warrant it fully works on Windows. Also, in the future we plan to put the code in CRAN and/or Bioconductor repositries.</p>
</div>
<div id="help" class="section level3">
<h3 class="hasAnchor">
<a href="#help" class="anchor"></a>Help</h3>
<p>All three classes are documented. You can access R help pages as with any other function:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb3-1" data-line-number="1"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(pagoo)</a>
<a class="sourceLine" id="cb3-2" data-line-number="2">?PgR6</a>
<a class="sourceLine" id="cb3-3" data-line-number="3"><span class="kw"><a href="https://rdrr.io/r/utils/help.html">help</a></span>(<span class="st">'PgR6MS'</span>)</a></code></pre></div>
<p>but as R6 classes documentation is still not standarized, we recomend you to use the <code><a href="reference/pagoo.html">pagoo::pagoo()</a></code> function to read the documentation from, and to to use it also instead of the raw classes.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb4-1" data-line-number="1">?pagoo</a></code></pre></div>
</div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <div class="license">
<h2>License</h2>
<ul class="list-unstyled">
<li>
<a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a> | file <a href="LICENSE-text.html">LICENSE</a>
</li>
</ul>
</div>
<div class="developers">
<h2>Developers</h2>
<ul class="list-unstyled">
<li>Ignacio Ferres <br><small class="roles"> Author, maintainer </small>  </li>
</ul>
</div>

  </div>
</div>


      <footer><div class="copyright">
  <p>Developed by Ignacio Ferres.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.4.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
